(()=>{"use strict";var e,n={146:(e,n,s)=>{function a(e){const n=e.dimensions.x,s=e.dimensions.y,a=e.dimensions.z;return 2*(n*s+n*a+s*a)}function r(e){return e.dimensions.x*e.dimensions.y*e.dimensions.z}var o=s(387);(0,o.PA)().then((e=>{document.getElementById("step-file").addEventListener("change",(async n=>{await async function(e,n){(0,o.QK)("LOADING");try{const s=`file.${(0,o.ti)(e)}`;try{n.FS.unlink(`/${s}`)}catch(e){}const t=await(0,o.xc)(e);console.log(t),n.FS.createDataFile("/",s,t,!0,!0),console.log(`파일 '${s}'을 가상 파일 시스템에 생성했습니다.`);const i=new n.STEPControl_Reader_1;if(console.log("STEPControl_Reader 인스턴스 생성됨"),i.ReadFile(s)!==n.IFSelect_ReturnStatus.IFSelect_RetDone)throw new Error("STEP 파일 읽기 실패");{console.log("STEP 파일 읽기 성공");const e=new n.Message_ProgressRange_1,s=i.TransferRoots(e);console.log(`변환된 루트 수: ${s}`);const t=i.OneShape();if(!t)throw new Error("형상을 가져올 수 없습니다.");{console.log("형상 가져오기 성공");const e=function(e,n){const s=new n.Bnd_Box_1;n.BRepBndLib.Add(e,s,!0);const a=s.CornerMin(),r=s.CornerMax(),o=a.X(),t=a.Y(),i=a.Z(),c=r.X(),d=r.Y(),l=r.Z();return{min:{x:o,y:t,z:i},max:{x:c,y:d,z:l},dimensions:{x:c-o,y:d-t,z:l-i}}}(t,n),s={aabb:e,area:a(e),volume:r(e)};(0,o.QK)("RESULTS",s)}}n.FS.unlink(`/${s}`)}catch(e){console.error("STEP 처리 중 오류 발생:",e),(0,o.QK)("PROCESSING_ERROR",{message:e.message})}}(n.target.files[0],e)}))}))},387:(e,n,s)=>{s.d(n,{PA:()=>r,QK:()=>i,ti:()=>t,xc:()=>o});var a=s(284);const r=async()=>{try{if(void 0===a.A)throw new Error("OpenCascade.js 라이브러리를 찾을 수 없습니다.");const e=await(0,a.A)();return console.log("OpenCascade.js 초기화 완료"),i("LOAD_SUCCESS"),e}catch(e){throw console.error("OpenCascade.js 초기화 오류:",e),i("LIB_ERROR",{message:e.message}),e}},o=e=>new Promise(((n,s)=>{let a=new FileReader;a.onload=()=>n(a.result),a.onerror=s,a.readAsText(e)})),t=e=>{switch(e.name.toLowerCase().split(".").pop()){case"step":case"stp":return"step";case"iges":case"igs":return"iges";default:return}};function i(e,n={}){const s=document.getElementById("result");switch(e){case"LOADING":s.innerHTML='<div class="loading">STEP 파일 분석 중...</div>';break;case"LOAD_SUCCESS":s.innerHTML='<p class="success">OpenCascade.js 로드 완료. STEP 파일을 선택해주세요.</p>';break;case"LIB_ERROR":s.innerHTML=`\n          <div class="error">\n            <h3>라이브러리 로드 오류</h3>\n            <p>${n.message}</p>\n            <p>브라우저 콘솔에서 추가 정보를 확인하세요.</p>\n          </div>\n        `;break;case"INIT_ERROR":s.innerHTML='\n          <div class="error">\n            <h3>라이브러리 오류</h3>\n            <p>OpenCascade.js를 초기화할 수 없습니다. 페이지를 새로고침 후 다시 시도해주세요.</p>\n          </div>\n        ';break;case"PROCESSING_ERROR":s.innerHTML=`\n          <div class="error">\n            <h3>오류 발생</h3>\n            <p>${n.message}</p>\n            <p>브라우저 콘솔에서 추가 정보를 확인하세요.</p>\n          </div>\n        `;break;case"RESULTS":s.innerHTML=`\n          <div class="success">STEP 파일을 성공적으로 처리했습니다!</div>\n          <h3>AABB 계산 결과</h3>\n          <p>치수: ${n.aabb.dimensions.x.toFixed(2)} × ${n.aabb.dimensions.y.toFixed(2)} × ${n.aabb.dimensions.z.toFixed(2)}</p>\n          <p>표면적: ${n.area.toFixed(2)} 제곱 단위</p>\n          <p>부피: ${n.volume.toFixed(2)} 입방 단위</p>\n          <h4>좌표</h4>\n          <p>최소: (${n.aabb.min.x.toFixed(2)}, ${n.aabb.min.y.toFixed(2)}, ${n.aabb.min.z.toFixed(2)})</p>\n          <p>최대: (${n.aabb.max.x.toFixed(2)}, ${n.aabb.max.y.toFixed(2)}, ${n.aabb.max.z.toFixed(2)})</p>\n        `}}}},s={};function a(e){var r=s[e];if(void 0!==r)return r.exports;var o=s[e]={exports:{}};return n[e](o,o.exports,a),o.exports}a.m=n,e=[],a.O=(n,s,r,o)=>{if(!s){var t=1/0;for(l=0;l<e.length;l++){for(var[s,r,o]=e[l],i=!0,c=0;c<s.length;c++)(!1&o||t>=o)&&Object.keys(a.O).every((e=>a.O[e](s[c])))?s.splice(c--,1):(i=!1,o<t&&(t=o));if(i){e.splice(l--,1);var d=r();void 0!==d&&(n=d)}}return n}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[s,r,o]},a.d=(e,n)=>{for(var s in n)a.o(n,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:n[s]})},a.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),a.p="./",(()=>{var e={673:0};a.O.j=n=>0===e[n];var n=(n,s)=>{var r,o,[t,i,c]=s,d=0;if(t.some((n=>0!==e[n]))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(c)var l=c(a)}for(n&&n(s);d<t.length;d++)o=t[d],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(l)},s=self.webpackChunkread_step_calc_aabb=self.webpackChunkread_step_calc_aabb||[];s.forEach(n.bind(null,0)),s.push=n.bind(null,s.push.bind(s))})();var r=a.O(void 0,[36],(()=>a(146)));r=a.O(r)})();
//# sourceMappingURL=calc_aabb.c3fbc2aa9b07d68a0766.bundle.js.map