{"version":3,"file":"js/main.36447af66d9b20c55cfa.bundle.js","mappings":"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","sources":["webpack://cad-ocjs/webpack/runtime/chunk loaded","webpack://cad-ocjs/./src/calc_aabb/utils.js","webpack://cad-ocjs/./src/calc_aabb/script.js","webpack://cad-ocjs/./src/share.js","webpack://cad-ocjs/webpack/bootstrap","webpack://cad-ocjs/webpack/runtime/define property getters","webpack://cad-ocjs/webpack/runtime/hasOwnProperty shorthand","webpack://cad-ocjs/webpack/runtime/publicPath","webpack://cad-ocjs/webpack/runtime/jsonp chunk loading","webpack://cad-ocjs/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// 형상에서 AABB 계산\nexport function calculateAABBFromShape(shape, openCascade) {\n  // Bnd_Box 객체 생성\n  const boundingBox = new openCascade.Bnd_Box_1()\n\n  // 경계 박스 계산\n  openCascade.BRepBndLib.Add(shape, boundingBox, true)\n\n  // 경계 박스의 최소/최대 좌표 가져오기\n  const pMin = boundingBox.CornerMin()\n  const pMax = boundingBox.CornerMax()\n\n  // 좌표 추출\n  const xMin = pMin.X()\n  const yMin = pMin.Y()\n  const zMin = pMin.Z()\n  const xMax = pMax.X()\n  const yMax = pMax.Y()\n  const zMax = pMax.Z()\n\n  return {\n    min: { x: xMin, y: yMin, z: zMin },\n    max: { x: xMax, y: yMax, z: zMax },\n    dimensions: {\n      x: xMax - xMin,\n      y: yMax - yMin,\n      z: zMax - zMin,\n    },\n  }\n}\n\n// AABB의 표면적 계산\nexport function calculateAABBArea(aabb) {\n  const width = aabb.dimensions.x\n  const height = aabb.dimensions.y\n  const depth = aabb.dimensions.z\n\n  // 직육면체의 표면적 = 2(너비×높이 + 너비×깊이 + 높이×깊이)\n  const surfaceArea = 2 * (width * height + width * depth + height * depth)\n\n  return surfaceArea\n}\n\n// AABB의 부피 계산\nexport function calculateAABBVolume(aabb) {\n  return aabb.dimensions.x * aabb.dimensions.y * aabb.dimensions.z\n}\n","// **B-rep(Boundary Representation)**은 3D 객체를 그 경계면으로 표현하는 방식입니다. 객체는 면(Faces), 모서리(Edges), 꼭지점(Vertices)으로 구성되며, 이 요소들 간의 위상적 관계를 포함합니다. STEP 파일은 이러한 B-rep 데이터를 저장하는 표준 형식입니다.\n// **AABB(Axis-Aligned Bounding Box)**는 3D 객체를 완전히 포함하는 가장 작은 직육면체로, 좌표축에 정렬된 형태입니다. 모델의 최소/최대 X, Y, Z 좌표로 정의됩니다.\nimport {\n  calculateAABBFromShape,\n  calculateAABBArea,\n  calculateAABBVolume,\n} from './utils'\nimport {\n  initOpenCascade,\n  loadFileAsync,\n  getFileType,\n  showTemplate,\n} from '../share'\n\ninitOpenCascade().then(openCascade => {\n  //  유저 업로드\n  document\n    .getElementById('step-file')\n    .addEventListener('change', async event => {\n      await loadSTEPorIGES(event.target.files[0], openCascade)\n    })\n\n  // 테스트\n  const els = document.getElementsByClassName('test')\n  for (const el of els) {\n    el.addEventListener('click', async e => {\n      const filePath = e.target.name\n      const blob = await fetch(filePath).then(res => res.blob())\n      const fileObject = new File([blob], filePath, {\n        type: 'application/octet-stream',\n      })\n      await loadSTEPorIGES(fileObject, openCascade)\n    })\n  }\n})\n\n// STEP 파일은 B-rep 데이터를 저장하는 표준 형식.\nasync function loadSTEPorIGES(file, openCascade) {\n  showTemplate('LOADING')\n\n  try {\n    // wasm 모듈 파일 시스템에 생성할 파일 이름\n    const fileType = getFileType(file)\n    const fileName = `file.${fileType}`\n\n    // 기존 파일 제거 시도 (이미 존재할 경우)\n    try {\n      openCascade.FS.unlink(`/${fileName}`)\n    } catch (e) {\n      // 파일이 존재하지 않으면 오류 무시\n    }\n\n    // 자바스크립트가 파일을 변환한다\n    const fileText = await loadFileAsync(file)\n    console.log(fileText)\n\n    // 자바스크립트가 wasm 모듈 파일시스템에 파일을 추가한다\n    openCascade.FS.createDataFile('/', fileName, fileText, true, true)\n    console.log(`파일 '${fileName}'을 가상 파일 시스템에 생성했습니다.`)\n\n    // STEP 리더 생성\n    const stepReader = new openCascade.STEPControl_Reader_1()\n    console.log('STEPControl_Reader 인스턴스 생성됨')\n\n    // 파일 읽기\n    const readResult = stepReader.ReadFile(fileName)\n\n    if (readResult === openCascade.IFSelect_ReturnStatus.IFSelect_RetDone) {\n      console.log('STEP 파일 읽기 성공')\n\n      // ***** STEP 파일 단위 정보 확인 (OpenCascade.js 기반) ******\n      let lengthUnit = '지정되지 않음'\n      let angleUnit = '지정되지 않음'\n\n      try {\n        // 단위 정보를 저장할 시퀀스 객체 생성\n        const lengthUnits = new openCascade.TColStd_SequenceOfAsciiString_1()\n        const angleUnits = new openCascade.TColStd_SequenceOfAsciiString_1()\n        const solidAngleUnits =\n          new openCascade.TColStd_SequenceOfAsciiString_1()\n\n        stepReader.FileUnits(lengthUnits, angleUnits, solidAngleUnits)\n\n        // 길이 단위 정보 처리\n        if (lengthUnits.Length() > 0) {\n          lengthUnit = lengthUnits.Value(1).ToCString()\n          console.log(`파일에 정의된 길이 단위: ${lengthUnit}`)\n        } else {\n          console.warn('파일에서 길이 단위를 찾을 수 없습니다.')\n        }\n\n        // 각도 단위 정보 처리\n        if (angleUnits.Length() > 0) {\n          angleUnit = angleUnits.Value(1).ToCString()\n          console.log(`파일에 정의된 각도 단위: ${angleUnit}`)\n        } else {\n          console.warn('파일에서 각도 단위를 찾을 수 없습니다.')\n        }\n      } catch (unitError) {\n        console.error('단위 정보 추출 중 오류 발생:', unitError)\n        console.error('오류 상세 정보:', unitError.message)\n        // 오류 발생 시에도 기본값 유지\n        lengthUnit = '오류 발생'\n        angleUnit = '오류 발생'\n      }\n\n      // 결과 출력\n      console.log(`파일의 길이 단위: ${lengthUnit}`)\n      console.log(`파일의 각도 단위: ${angleUnit}`)\n      // ***** 단위 정보 확인 끝 ******\n\n      // 루트 변환\n      const progressRange = new openCascade.Message_ProgressRange_1()\n      const numRootsTransferred = stepReader.TransferRoots(progressRange)\n      console.log(`변환된 루트 수: ${numRootsTransferred}`)\n\n      // 하나의 형상 가져오기\n      const shape = stepReader.OneShape()\n\n      if (shape) {\n        console.log('형상 가져오기 성공')\n\n        // AABB 계산\n        const aabb = calculateAABBFromShape(shape, openCascade)\n\n        // 결과 계산\n        const result = {\n          aabb: aabb,\n          area: calculateAABBArea(aabb),\n          volume: calculateAABBVolume(aabb),\n          units: {\n            length: lengthUnit,\n            angle: angleUnit,\n          },\n        }\n\n        showTemplate('RESULTS', result)\n      } else {\n        throw new Error('형상을 가져올 수 없습니다.')\n      }\n    } else {\n      throw new Error('STEP 파일 읽기 실패')\n    }\n\n    // 사용 후 파일 제거\n    openCascade.FS.unlink(`/${fileName}`)\n  } catch (error) {\n    console.error('STEP 처리 중 오류 발생:', error)\n    showTemplate('PROCESSING_ERROR', { message: error.message })\n  }\n}\n","import initOpenCascadeJs from 'opencascade.js'\n\n// OpenCascade.js 초기화\nexport const initOpenCascade = async () => {\n  try {\n    // 라이브러리가 로드되었는지 확인\n    if (typeof initOpenCascadeJs === 'undefined') {\n      throw new Error('OpenCascade.js 라이브러리를 찾을 수 없습니다.')\n    }\n\n    // 초기화 (로컬 파일 경로 지정)\n    const openCascade = await initOpenCascadeJs()\n\n    console.log('OpenCascade.js 초기화 완료')\n\n    // UI 업데이트\n    showTemplate('LOAD_SUCCESS')\n\n    return openCascade\n  } catch (error) {\n    console.error('OpenCascade.js 초기화 오류:', error)\n    showTemplate('LIB_ERROR', { message: error.message })\n    throw error\n  }\n}\n\nexport const loadFileAsync = file => {\n  return new Promise((resolve, reject) => {\n    let reader = new FileReader()\n    reader.onload = () => resolve(reader.result)\n    reader.onerror = reject\n    reader.readAsText(file)\n  })\n}\n\nexport const getFileType = inputFile => {\n  switch (inputFile.name.toLowerCase().split('.').pop()) {\n    case 'step':\n    case 'stp':\n      return 'step'\n    case 'iges':\n    case 'igs':\n      return 'iges'\n    default:\n      return undefined\n  }\n}\n\n// 화면 표시 함수 - HTML 템플릿 통합 관리\nexport function showTemplate(key, data = {}) {\n  const resultDiv = document.getElementById('result')\n\n  switch (key) {\n    case 'LOADING':\n      resultDiv.innerHTML = `<div class=\"loading\">STEP 파일 분석 중...</div>`\n      break\n\n    case 'LOAD_SUCCESS':\n      resultDiv.innerHTML = `<p class=\"success\">OpenCascade.js 로드 완료. STEP 파일을 선택해주세요.</p>`\n      break\n\n    case 'LIB_ERROR':\n      resultDiv.innerHTML = `\n          <div class=\"error\">\n            <h3>라이브러리 로드 오류</h3>\n            <p>${data.message}</p>\n            <p>브라우저 콘솔에서 추가 정보를 확인하세요.</p>\n          </div>\n        `\n      break\n\n    case 'INIT_ERROR':\n      resultDiv.innerHTML = `\n          <div class=\"error\">\n            <h3>라이브러리 오류</h3>\n            <p>OpenCascade.js를 초기화할 수 없습니다. 페이지를 새로고침 후 다시 시도해주세요.</p>\n          </div>\n        `\n      break\n\n    case 'PROCESSING_ERROR':\n      resultDiv.innerHTML = `\n          <div class=\"error\">\n            <h3>오류 발생</h3>\n            <p>${data.message}</p>\n            <p>브라우저 콘솔에서 추가 정보를 확인하세요.</p>\n          </div>\n        `\n      break\n\n    case 'RESULTS':\n      // 단위 이름(예: \"MILLIMETRE\")을 약어(예: \"mm\")로 변환하는 로직\n      let unitSymbol = '?' // 기본값 (단위를 모를 경우)\n      let lengthUnit = ''\n      if (\n        data.units &&\n        data.units.length &&\n        data.units.length !== '지정되지 않음' &&\n        data.units.length !== '오류 발생'\n      ) {\n        lengthUnit = data.units.length.toUpperCase() // 대문자로 통일하여 비교 용이하게\n\n        if (lengthUnit.includes('MILLIMETRE')) {\n          unitSymbol = 'mm'\n        } else if (lengthUnit.includes('INCH')) {\n          unitSymbol = 'in'\n        } else if (lengthUnit.includes('METRE')) {\n          // STEP 표준 철자는 'METRE'\n          unitSymbol = 'm'\n        } else if (lengthUnit.includes('CENTIMETRE')) {\n          unitSymbol = 'cm'\n        } else {\n          unitSymbol = data.units.length // 매핑 안되면 원본 이름 사용 (혹은 '?' 유지)\n        }\n      }\n\n      resultDiv.innerHTML = `\n            <div class=\"success\">STEP 파일을 성공적으로 처리했습니다!</div>\n            <h3>AABB 계산 결과</h3>\n            <p>측정된 길이 단위: ${\n              data.units && data.units.length ? data.units.length : '알 수 없음'\n            }</p>\n            <p>치수 (너비×높이×깊이): ${data.aabb.dimensions.x.toFixed(\n              2\n            )} × ${data.aabb.dimensions.y.toFixed(\n        2\n      )} × ${data.aabb.dimensions.z.toFixed(2)} (${unitSymbol})</p>\n            <p>표면적: ${data.area.toFixed(2)} ${unitSymbol}²</p>\n            <p>부피: ${data.volume.toFixed(2)} ${unitSymbol}³</p>\n            <h4>좌표</h4>\n            <p>최소 (X, Y, Z): (${data.aabb.min.x.toFixed(\n              2\n            )}, ${data.aabb.min.y.toFixed(2)}, ${data.aabb.min.z.toFixed(\n        2\n      )})</p>\n            <p>최대 (X, Y, Z): (${data.aabb.max.x.toFixed(\n              2\n            )}, ${data.aabb.max.y.toFixed(2)}, ${data.aabb.max.z.toFixed(\n        2\n      )})</p>\n          `\n      break // case 문 끝에 break 추가\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.p = \"./\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t631: 0,\n\t673: 0,\n\t792: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkcad_ocjs\"] = self[\"webpackChunkcad_ocjs\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [462,525,173], () => (__webpack_require__(44)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","calculateAABBArea","aabb","width","dimensions","x","height","y","depth","z","calculateAABBVolume","async","loadSTEPorIGES","file","openCascade","fileName","FS","unlink","e","fileText","console","log","createDataFile","stepReader","STEPControl_Reader_1","ReadFile","IFSelect_ReturnStatus","IFSelect_RetDone","Error","lengthUnit","angleUnit","lengthUnits","TColStd_SequenceOfAsciiString_1","angleUnits","solidAngleUnits","FileUnits","Length","Value","ToCString","warn","unitError","error","message","progressRange","Message_ProgressRange_1","numRootsTransferred","TransferRoots","shape","OneShape","boundingBox","Bnd_Box_1","BRepBndLib","Add","pMin","CornerMin","pMax","CornerMax","xMin","X","yMin","Y","zMin","Z","xMax","yMax","zMax","min","max","calculateAABBFromShape","result","area","volume","units","length","angle","then","document","getElementById","addEventListener","event","target","files","els","getElementsByClassName","el","filePath","name","blob","fetch","res","fileObject","File","type","initOpenCascade","showTemplate","loadFileAsync","Promise","resolve","reject","reader","FileReader","onload","onerror","readAsText","getFileType","inputFile","toLowerCase","split","pop","key","data","resultDiv","innerHTML","unitSymbol","toUpperCase","includes","toFixed","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","O","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","Object","keys","every","splice","r","d","definition","o","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","forEach","bind","push","__webpack_exports__"],"sourceRoot":""}